<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Washington D.C. | Urban Heat Islands</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

  <!-- Leaflet CSS & Side-by-Side Plugin -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet-side-by-side/leaflet-side-by-side.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-side-by-side/leaflet-side-by-side.js"></script>

  <style>
    #map {
      height: 500px;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>

<nav class="navbar navbar-expand-sm bg-dark navbar-dark"> 
  <a class="navbar-brand" href="index.html">Home</a>
  <div class="collapse navbar-collapse" id="collapsibleNavbar"> 
    <ul class="navbar-nav"> 
      <li class="nav-item"><a class="nav-link" href="atlanta.html">Atlanta, GA</a></li>
      <li class="nav-item"><a class="nav-link" href="washington.html">Washington D.C.</a></li>
      <li class="nav-item"><a class="nav-link" href="boston.html">Boston, MA</a></li>         
    </ul>
  </div>  
</nav>

<div class="container">
  <br>
  <h2>Washington D.C. Urban Heat Map</h2>
  <div id="map"></div>
</div>

<div class="container mt-4">
  <h3>Washington D.C. Urban Heat Island Maps: 2015 VS. 2024</h3>
  <p>
    This page shows two satellite-derived <strong>land surface temperature</strong> (LST) maps for Washington D.C. — one from <strong>2015</strong> and another from <strong>2024</strong>. These maps use color gradients to show how different areas of the city absorb and retain heat, revealing patterns linked to the urban heat island (UHI) effect.
  </p>
  <p>
    You can <strong>click the layer toggles</strong> (located in the top-right corner of the map) to compare the 2015 and 2024 temperature layers. This allows you to visualize how heat distribution has changed across the region.
  </p>
  <p>
    The color ramp indicates temperature levels. <span style="color:#ca0020; font-weight:bold;">Deeper reds</span> show hotter zones (dense urban areas), while <span style="color:#0571b0; font-weight:bold;">cool blues</span> indicate lower temperatures often found in areas with vegetation or water.
  </p>

  <h5>2015 Land Surface Temperature (Kelvin)</h5>
  <div class="p-3 border bg-light mb-3">
    <div><span style="display:inline-block; width:20px; height:20px; background:#ca0020;"></span> 1097.4 K – Very High (Urban Core)</div>
    <div><span style="display:inline-block; width:20px; height:20px; background:#f4a582;"></span> 1039.1 K – High</div>
    <div><span style="display:inline-block; width:20px; height:20px; background:#f7f7f7;"></span> 1034.4 K – Moderate</div>
    <div><span style="display:inline-block; width:20px; height:20px; background:#92c5de;"></span> 1032.9 K – Low</div>
    <div><span style="display:inline-block; width:20px; height:20px; background:#0571b0;"></span> 1006.4 K – Very Low (Vegetation or Water)</div>
  </div>

  <h5>2024 Land Surface Temperature (Kelvin)</h5>
  <div class="p-3 border bg-light mb-3">
    <div><span style="display:inline-block; width:20px; height:20px; background:#ca0020;"></span> 1109.1 K – Very High (Urban Core)</div>
    <div><span style="display:inline-block; width:20px; height:20px; background:#f4a582;"></span> 1049.8 K – High</div>
    <div><span style="display:inline-block; width:20px; height:20px; background:#f7f7f7;"></span> 1042.1 K – Moderate</div>
    <div><span style="display:inline-block; width:20px; height:20px; background:#92c5de;"></span> 1036.1 K – Low</div>
    <div><span style="display:inline-block; width:20px; height:20px; background:#0571b0;"></span> 964.5 K – Very Low (Water & Vegetation)</div>
  </div>

  <p class="text-muted">
    <em>Kelvin (K)</em> is a scientific unit used to measure surface temperature. These maps help highlight areas of concern where heat may accumulate due to dense urban infrastructure or lack of greenery.
  </p>
</div>

<div class="container">
  <h2>District of Columbia</h2>
  <img src="https://washington.org/sites/default/files/styles/generic_hero_banner_1440_x_600/public/hero-image-dc-aerial-photo-credit-john-sonderman.jpg.webp?itok=v2PtLANH" class="img-fluid mb-3" alt="D.C.">
  <!-- Your interactive map will be embedded here -->
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
  const map = L.map('map').setView([38.89511, -77.03637], 11); // DC Center

  // Basemap
  const OpenStreetMap = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Map © OpenStreetMap contributors',
        maxZoom: 18
      });
    
    const Carto_Positron = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
  attribution: '&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> &copy; <a href="https://carto.com/">CARTO</a>',
  subdomains: 'abcd',
  maxZoom: 19
});

// Add the default basemap
Carto_Positron.addTo(map);  

 // L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
   // attribution: '© OpenStreetMap contributors'
  //}).addTo(map);

  // Bounds for overlays (replace with your actual bounds)
  const bounds2015 =  [[37.796500423, -78.271630783], // SW corner: lat, lon
  [39.990334233, -75.506704416]];  // NE corner: lat, lon
//[[38.791, -77.150], [39.003, -76.910]]; // SW to NE
  const bounds2024 =  [[37.796500423, -78.271630783], // SW corner: lat, lon
  [39.990334233, -75.506704416]  // NE corner: lat, lon
];//[[38.791, -77.150], [39.003, -76.910]];

  // Define overlay images
  const overlay2015 = L.imageOverlay('assets/dc/Temp_2015_DC.png', bounds2015);
  const overlay2024 = L.imageOverlay('assets/dc/Temp_2024_DC.png', bounds2024);

  /// Layer controls
const baseMaps = {
  "OpenStreetMap": OpenStreetMap,
  "CartoLightMatter": Carto_Positron
};

const overlays = {
  "2015 LST": overlay2015,
  "2024 LST": overlay2024
};

L.control.layers(baseMaps, overlays, {
  collapsed: false // Keep it expanded
}).addTo(map);

  // Add slider control
  L.control.sideBySide(overlay2015, overlay2024).addTo(map);
  L.control.layers(baseMaps, overlays, { collapsed: false }).addTo(map);

  // Load vector boundary (optional)
  fetch('assets/washington/washington_boundary.geojson')
    .then(res => res.json())
    .then(data => {
      L.geoJSON(data, {
        style: {
          color: "blue",
          weight: 2,
          fill: false
        }
      }).addTo(map);
    });
</script>

</body>
</html>
